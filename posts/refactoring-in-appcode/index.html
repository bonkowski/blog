<!DOCTYPE html>
<html lang="en-us">
  <head>
    <title>Refactoring in AppCode | Bonkowski.net</title>

    <!DOCTYPE html>
<html lang="en-us">
	<head>
		<meta charset="utf-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		
<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
	ga('create', 'UA-37909515-2', 'auto');
	
	ga('send', 'pageview');
}
</script> 
		
		
		<meta name="description" content="Describe your website">
		<meta name="generator" content="Hugo 0.119.0">
		<title>Refactoring in AppCode &middot; Bonkowski.net</title>
		<link rel="shortcut icon" href="https://bonkowski.net/images/favicon.ico">
		<link rel="stylesheet" href="https://bonkowski.net/css/style.css">
		<link rel="stylesheet" href="https://bonkowski.net/css/highlight.css">

		
		<link rel="stylesheet" href="https://bonkowski.net/css/monosocialiconsfont.css">
		

		
		<link href="https://bonkowski.net/index.xml" rel="alternate" type="application/rss+xml" title="Bonkowski.net" />
		


		

	</head>


  </head>

  <body>
    <nav class="navigation">
	
		<a href="https://bonkowski.net/"> <span class="arrow">â†</span>Home</a>
	
	<a href="https://bonkowski.net/posts">Archive</a>
	<a href="https://bonkowski.net/tags">Tags</a>
	<a href="https://bonkowski.net/about">About</a>

	

	
	  <a class="button" href="https://bonkowski.net/index.xml">Subscribe</a>
	
</nav>


    <main class="main">
      

<section id="single">
    <h1 class="title">Refactoring in AppCode</h1>

    <div class="tip">
        <time datetime="2013-02-10 23:19:00 &#43;0200 &#43;0200">Feb 10, 2013</time>
        <span class="split">
          Â·
        </span>
        <span>
          1609 words
        </span>
        <span class="split">
          Â·
        </span>
        <span>
          8 minute read
        </span>
    </div>

    
    


    <div class="content">
      <p>AppCode offers a rich set of refactoring&rsquo;s, which is fast, safe, and easy to use.</p>
<h2 id="rename">Rename <a href="#rename" class="anchor">ğŸ”—</a></h2><p>Naming is surprisingly difficult. It&rsquo;s easy to get &ldquo;paralyzed&rdquo; if the perfect name of a class or method does not pops into place immediately. But hey, you can always rename it later!</p>
<p>The &ldquo;Rename&rdquo; refactoring in AppCode is triggered by the shortcut <strong>â‡§F6</strong>. By using this, you can rename a file, class, method, property, ivar, local variable, and so on. In the file or project view, the shortcut triggers renaming a file or a class.</p>
<p><p class="markdown-image">
  <img src="https://bonski-blog.s3.amazonaws.com/rename.png" alt="Rename"  />
</p></p>
<p>If you just are renaming a file (such as a plist or an image), AppCode will rename the file, and also change where it is referenced. If you are renaming a class, both the header, and the implementation of the class is renamed, and the references of the files in the project file. If you select <strong>Rename</strong> when the cursor is on a class name used by the class, the selected class is renamed.</p>
<p>If you triggers the rename from inside the source file, the name of the class, variable, and so on, is entering a &ldquo;edit mode,&rdquo; almost like &ldquo;Edit all in Scope,&rdquo; in Xcode. The difference is that while in Xcode you renamed only the names inside the current class, the renaming in AppCode is global.</p>
<p><p class="markdown-image">
  <img src="https://bonski-blog.s3.amazonaws.com/inline-rename.png" alt="Inline Rename"  />
</p></p>
<p>In the example above, changing the name <em>KMRObjectViewLayout</em> to something else,  will rename the <em>KMRObjectViewLayout</em> class, it&rsquo;s containing file, and all the references to the class.</p>
<p><p class="markdown-image">
  <img src="https://bonski-blog.s3.amazonaws.com/edit-all-in-scope.png" alt="Edit all in Scope"  />
</p></p>
<p>Here is an example of how it looks like when you are renaming a method name. All instances in scope are selected and edited.</p>
<p><p class="markdown-image">
  <img src="https://bonski-blog.s3.amazonaws.com/name-proposal.png" alt="Rename class from file or project view"  />
</p>
In the next example, shown above, we want to rename an instance variable. AppCode gives us a few name proposals, based on the name of the variable, and its usage. (As you can see, contentWidth is suggested based on the method name)</p>
<h2 id="change-signature">Change signature <a href="#change-signature" class="anchor">ğŸ”—</a></h2><p>I often begin with a method signature that after a while needs to be altered. This can be to include an additional argument, or maybe the argument is not needed anymore, or even the order of the arguments is not right. If the method is called from several places, this can be a time-consuming and error prone task. By using the <strong>âŒ˜F6</strong>, <em><strong>Change Signature</strong></em>, this is done in a simple and safe way.</p>
<p>The video below shows how you can use the <em><strong>Change Signature</strong></em> refactoring.</p>

<div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;">
  <iframe src="https://player.vimeo.com/video/236656940" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;" title="vimeo video" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>
</div>

<p>As you can see, this is a really powerful feature, which I use a lot. You can also change the return type, and even convert a method to a function or a block, or vice versa.</p>
<h2 id="convert">Convert <a href="#convert" class="anchor">ğŸ”—</a></h2><p>Converting a method to a function or a block can also be done by using one of the <em><strong>Convert to</strong></em> menu items. In addition to these, you also have <em><strong>Convert to Property</strong></em> and <em><strong>Convert to Instance Variable</strong></em>.</p>
<h2 id="move">Move <a href="#move" class="anchor">ğŸ”—</a></h2><p>The <em><strong>Move</strong></em> refactoring allows you to move a property, ivar&rsquo;s and methods from one class to another. If the target class does not exist, you get a warning that tells you that. While this is correct, <!-- raw HTML omitted -->I would expect AppCode to ask whether I want to create the non-existing class. There is a feature request for this already registered in the AppCode issue tracker, so I expect it to be in a <a href="https://youtrack.jetbrains.com/issue/OC-6223" target="_blank" rel="noopener">future build of the EAP</a>.<!-- raw HTML omitted --></p>
<p><strong>Update:</strong> <a href="https://youtrack.jetbrains.com/issue/OC-6223" target="_blank" rel="noopener">The &ldquo;missing&rdquo; feature is now fixed</a>.</p>
<p>This is one of the other great things about JetBrains. They respond to bug reports and feature requests almost immediately, and the Issue Tracker is publicly visible.</p>
<h2 id="copy">Copy <a href="#copy" class="anchor">ğŸ”—</a></h2><p>When in the project browser, selecting a header, or an implementation file, or when inside one of these files, <strong>F5</strong> will prompt you to enter the name of the new copy of the files, and where to copy them. While in the &ldquo;To directory&rdquo; input field <strong>âŒƒâ£</strong> will provide path completion. When accepting, the class name inside the source files is changed as well.</p>
<p><p class="markdown-image">
  <img src="https://bonski-blog.s3.amazonaws.com/copy.png" alt="Copy a class"  />
</p></p>
<h2 id="safe-delete">Safe Delete <a href="#safe-delete" class="anchor">ğŸ”—</a></h2><p>Before you delete a class or a file, you want to ensure that it&rsquo;s not used somewhere. <em><strong>Safe Delete</strong></em> does that for you, and warn you if this is the case. Besides search for usages, by default it also searches in comments and strings. The keyboard shortcut for this are <strong>âŒ¦âŒ˜</strong></p>
<h2 id="extract">Extract&hellip; <a href="#extract" class="anchor">ğŸ”—</a></h2><p>There are several Extract factoring&rsquo;s, and here is a short description of each:</p>
<h4 id="extract-variable">Extract Variable <a href="#extract-variable" class="anchor">ğŸ”—</a></h4><p>Let say that you have a hard coded value. You select the value, and type <strong>âŒ¥âŒ˜V</strong>. AppCode will declare a variable above where it&rsquo;s used, with the correct type, and the name of the new variable selected. To change the proposed name, just begin to type the name of the variable. If no value or expression is explicitly selected, AppCode gives you a suggestion of what to base the value of the introduced value from as shown in the example below:</p>
<p><p class="markdown-image">
  <img src="https://bonski-blog.s3.amazonaws.com/select-variable-expression.png" alt="Select variable expression"  />
</p></p>
<h4 id="extract-constant">Extract Constant <a href="#extract-constant" class="anchor">ğŸ”—</a></h4><p>This refactoring, <strong>âŒ¥âŒ˜C</strong>,  is similar to <em><strong>Extract Variable</strong></em>, but this introduces a constant instead. If no actual value is selected, AppCode gives you an opportunity to select what the constant is based on from values and expressions in scope. When the constant is selected, AppCode asks for you if you would like to replace only this one, or all similar values found in the current file.</p>
<h4 id="extract-parameter">Extract Parameter <a href="#extract-parameter" class="anchor">ğŸ”—</a></h4><p>If you are creating a variable inside a method, but you would like it to be passed as a parameter, <em><strong>Extract parameter</strong></em>, <strong>âŒ¥âŒ˜ P</strong> is the refactoring you would like to use.</p>
<h4 id="extract-property">Extract Property <a href="#extract-property" class="anchor">ğŸ”—</a></h4><p>By using <strong>âŒ¥âŒ˜E</strong> on a variable, AppCode shows a dialog where the declaration of the property is shown, togheter with a checkbox. If you check the checkbox, the property is generated in a private category. If not, the property is declared in the header.</p>
<p><p class="markdown-image">
  <img src="https://bonski-blog.s3.amazonaws.com/introduce-property.png" alt="Introduce property"  />
</p></p>
<h4 id="extract-instance-variable">Extract Instance Variable <a href="#extract-instance-variable" class="anchor">ğŸ”—</a></h4><p>By using <strong>âŒ¥âŒ˜I</strong> on a local variable, AppCode changes it into an ivar, but with the option to generate a property for the variable if the checkbox is selected. You can also select to declare the ivar in the interface (which you don&rsquo;t want to do).</p>
<h4 id="extract-define">Extract Define <a href="#extract-define" class="anchor">ğŸ”—</a></h4><p><strong>âŒ¥âŒ˜F</strong> extracts a macro from the selected value or expression</p>
<h4 id="extract-typedef">Extract Typedef <a href="#extract-typedef" class="anchor">ğŸ”—</a></h4><p>As the name suggests, <strong>âŒ¥âŒ˜F</strong> creates a typdef from the selected type.</p>
<h4 id="extract-method">Extract Method <a href="#extract-method" class="anchor">ğŸ”—</a></h4><p>This is one of the most my frequently used refactoring. Let say a method has too much responsibility, and you want to move some of the logic into a new method, Select the code you want to move, type <strong>âŒ¥âŒ˜F</strong>, and AppCode generates a new method for you, including necessary parameters.</p>
<p><p class="markdown-image">
  <img src="https://bonski-blog.s3.amazonaws.com/extract_method.png" alt="Extract method"  />
</p></p>
<p>As you can see from the screenshot above, it&rsquo;s quite similar to <em><strong>Change Signature</strong></em>. The main difference is the Targets drop down. Depending on what you select in this drop down, the signature is declared in the header file, in a private category, or just in the implementation file.</p>
<h4 id="extract-block-parameter">Extract Block Parameter <a href="#extract-block-parameter" class="anchor">ğŸ”—</a></h4><p>By using Extract Block Parameter you select a chunk of code. A block declaration based on the selected code is created, and the signature of the method is changed to take a block of this type. Finally, the existing usages of this method are changed so that the extracted block is passed as a parameter.</p>
<h4 id="extract-superclass">Extract Superclass <a href="#extract-superclass" class="anchor">ğŸ”—</a></h4><p>To create a superclass from an existing class, the easiest way to accomplish this is to select the <strong>Extract Superclass</strong>. This refactoring does not have a default keyboard shortcut (You can create one yourself). You will be presented with a dialog where methods, properties, and ivars are shown in a list with checkboxes, and an input field where you type the name of the new superclass. You check the name of what you want to move into the new superclass. If one of the selected methods has dependencies to other methods, properties, or ivars, you get a warning, telling you about the problem.</p>
<p><p class="markdown-image">
  <img src="https://bonski-blog.s3.amazonaws.com/extract_superclass.png" alt="Extract Superclass"  />
</p></p>
<h4 id="extract-subclass">Extract Subclass <a href="#extract-subclass" class="anchor">ğŸ”—</a></h4><p>Here you create a subclass from a superclass. You select which methods, ivars and properties you want to take with you into the new subclass.</p>
<h4 id="extract-protocol-and-category">Extract Protocol and Category <a href="#extract-protocol-and-category" class="anchor">ğŸ”—</a></h4><p>Similar to the two above, except you are extracting protocols and categories.</p>
<h2 id="inline">Inline <a href="#inline" class="anchor">ğŸ”—</a></h2><p>If you want to inline a method, AppCode will move the implementation of the method into where it&rsquo;s called from. If the method is called from more than one place, AppCode prompts you and asks for &ldquo;Do you want to inline &rsquo;n&rsquo; usages of method &lsquo;mehodName&rsquo;? You options are: cancel the refactoring, execute the operation or view usages of the method you have selected to inline. If you select the latter, a list of usages is shown, and while navigating in this list, you can exclude the calls you don&rsquo;t want to inline by <strong>âŒ«</strong>. If you change your mind, and want to include them again, you can do that by typing__â‡§âŒ«__</p>
<p>Below is a sample of an excluded usage of a method. This feature is also used in all refactoring where the change will affect more than in one place.</p>
<p><p class="markdown-image">
  <img src="https://bonski-blog.s3.amazonaws.com/excluded-file.png" alt="Excluded file"  />
</p></p>
<p>You can think of the <em><strong>Inline</strong></em> refactoring as an inverse of <em><strong>Extract Variable</strong></em>, <em><strong>Extract Constant</strong></em> and so on.</p>
<h2 id="pull-members-up-and-pull-members-down">Pull Members Up and Pull Members Down <a href="#pull-members-up-and-pull-members-down" class="anchor">ğŸ”—</a></h2><p>These refactoring&rsquo;s are the same as <em><strong>Extract Superclass</strong></em> and <em><strong>Extract Subclass</strong></em>. (At least as far as I know).</p>
<h2 id="refactor-this">Refactor This&hellip; <a href="#refactor-this" class="anchor">ğŸ”—</a></h2><p><p class="markdown-image">
  <img src="https://bonski-blog.s3.amazonaws.com/refactor-this.png" alt="IRefactor this"  />
</p></p>
<p>If your having trouble remembering all the different Refactor keyboard shortcuts, you should at least try to learn this one: <strong>âŒƒT</strong>.
This shortcut will present a popup menu containing all the available refactoring&rsquo;s, that you can select from, by using the number in front of the name, or navigate by using the arrow keys, and select the one you want by <strong>â†©</strong></p>
<p>If you are new to AppCode, or haven&rsquo;t used the Refactorings that AppCode offers, I would suggest that you take a closer look at what it have to give.</p>

    </div>

    
        <div class="tags">
            
                <a href="https://bonkowski.net/tags/appcode">AppCode</a>
            
                <a href="https://bonkowski.net/tags/objective-c">Objective-C</a>
            
                <a href="https://bonkowski.net/tags/jetbrains">JetBrains</a>
            
        </div>
    
    
    

</section>


    </main>
    
    <footer id="footer">
    
        <div id="social">


    <a class="symbol" href="https://www.facebook.com/" rel="me" target="_blank">
        
        <svg fill="#bbbbbb" width="28" height="28" viewBox="0 0 72 72" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
    
    <title>Facebook</title>
    <desc>Created with Sketch.</desc>
    <defs></defs>
    <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
        <g id="Social-Icons---Rounded-Black" transform="translate(-152.000000, -43.000000)">
            <g id="Facebook" transform="translate(152.000000, 43.000000)">
                <rect id="Rounded" fill="#bbbbbb" x="0" y="0" width="72" height="72" rx="8"></rect>
                <path d="M60.4641463,13.4173171 L60.4641463,22.7278049 L54.9382927,22.7421951 C50.6068293,22.7421951 49.7721951,24.8 49.7721951,27.807561 L49.7721951,34.4702439 L60.09,34.4702439 L58.7517073,44.8887805 L49.7721951,44.8887805 L49.7721951,72 L39.0097317,72 L39.0097317,44.8887805 L30,44.8887805 L30,34.4702439 L39.0097317,34.4702439 L39.0097317,26.7858537 C39.0097317,17.8639024 44.4478049,13 52.42,13 C56.2204634,13 59.5,13.2878049 60.4641463,13.4173171 Z" fill="#FFFFFF"></path>
            </g>
        </g>
    </g>
</svg>
    </a>

    <a class="symbol" href="https://www.github.com/" rel="me" target="_blank">
        
        <svg fill="#bbbbbb" width="28" height="28"  viewBox="0 0 72 72" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
    
    <title>Github</title>
    <desc>Created with Sketch.</desc>
    <defs></defs>
    <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
        <g id="Social-Icons---Rounded-Black" transform="translate(-264.000000, -939.000000)">
            <g id="Github" transform="translate(264.000000, 939.000000)">
                <path d="M8,72 L64,72 C68.418278,72 72,68.418278 72,64 L72,8 C72,3.581722 68.418278,-8.11624501e-16 64,0 L8,0 C3.581722,8.11624501e-16 -5.41083001e-16,3.581722 0,8 L0,64 C5.41083001e-16,68.418278 3.581722,72 8,72 Z" id="Rounded" fill="#bbbbbb"></path>
                <path d="M35.9985,13 C22.746,13 12,23.7870921 12,37.096644 C12,47.7406712 18.876,56.7718301 28.4145,59.9584121 C29.6145,60.1797862 30.0525,59.4358488 30.0525,58.7973276 C30.0525,58.2250681 30.0315,56.7100863 30.0195,54.6996482 C23.343,56.1558981 21.9345,51.4693938 21.9345,51.4693938 C20.844,48.6864054 19.2705,47.9454799 19.2705,47.9454799 C17.091,46.4500754 19.4355,46.4801943 19.4355,46.4801943 C21.843,46.6503662 23.1105,48.9634994 23.1105,48.9634994 C25.2525,52.6455377 28.728,51.5823398 30.096,50.9649018 C30.3135,49.4077535 30.9345,48.3460615 31.62,47.7436831 C26.2905,47.1352808 20.688,45.0691228 20.688,35.8361671 C20.688,33.2052792 21.6225,31.0547881 23.1585,29.3696344 C22.911,28.7597262 22.0875,26.3110578 23.3925,22.9934585 C23.3925,22.9934585 25.4085,22.3459017 29.9925,25.4632101 C31.908,24.9285993 33.96,24.6620468 36.0015,24.6515052 C38.04,24.6620468 40.0935,24.9285993 42.0105,25.4632101 C46.5915,22.3459017 48.603,22.9934585 48.603,22.9934585 C49.9125,26.3110578 49.089,28.7597262 48.8415,29.3696344 C50.3805,31.0547881 51.309,33.2052792 51.309,35.8361671 C51.309,45.0917119 45.6975,47.1292571 40.3515,47.7256117 C41.2125,48.4695491 41.9805,49.9393525 41.9805,52.1877301 C41.9805,55.4089489 41.9505,58.0067059 41.9505,58.7973276 C41.9505,59.4418726 42.3825,60.1918338 43.6005,59.9554002 C53.13,56.7627944 60,47.7376593 60,37.096644 C60,23.7870921 49.254,13 35.9985,13" fill="#FFFFFF"></path>
            </g>
        </g>
    </g>
</svg>
    </a>

    <a class="symbol" href="https://www.twitter.com/" rel="me" target="_blank">
        
        <svg fill="#bbbbbb" width="28" height="28" version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
	 width="438.536px" height="438.536px" viewBox="0 0 438.536 438.536" style="enable-background:new 0 0 438.536 438.536;"
	 xml:space="preserve">
<g>
	<path d="M414.41,24.123C398.333,8.042,378.963,0,356.315,0H82.228C59.58,0,40.21,8.042,24.126,24.123
		C8.045,40.207,0.003,59.576,0.003,82.225v274.084c0,22.647,8.042,42.018,24.123,58.102c16.084,16.084,35.454,24.126,58.102,24.126
		h274.084c22.648,0,42.018-8.042,58.095-24.126c16.084-16.084,24.126-35.454,24.126-58.102V82.225
		C438.532,59.576,430.49,40.204,414.41,24.123z M335.471,168.735c0.191,1.713,0.288,4.278,0.288,7.71
		c0,15.989-2.334,32.025-6.995,48.104c-4.661,16.087-11.8,31.504-21.416,46.254c-9.606,14.749-21.074,27.791-34.396,39.115
		c-13.325,11.32-29.311,20.365-47.968,27.117c-18.648,6.762-38.637,10.143-59.953,10.143c-33.116,0-63.76-8.952-91.931-26.836
		c4.568,0.568,9.329,0.855,14.275,0.855c27.6,0,52.439-8.565,74.519-25.7c-12.941-0.185-24.506-4.179-34.688-11.991
		c-10.185-7.803-17.273-17.699-21.271-29.691c4.947,0.76,8.658,1.137,11.132,1.137c4.187,0,9.042-0.76,14.56-2.279
		c-13.894-2.669-25.598-9.562-35.115-20.697c-9.519-11.136-14.277-23.84-14.277-38.114v-0.571
		c10.085,4.755,19.602,7.229,28.549,7.422c-17.321-11.613-25.981-28.265-25.981-49.963c0-10.66,2.758-20.747,8.278-30.264
		c15.035,18.464,33.311,33.213,54.816,44.252c21.507,11.038,44.54,17.227,69.092,18.558c-0.95-3.616-1.427-8.186-1.427-13.704
		c0-16.562,5.853-30.692,17.56-42.399c11.703-11.706,25.837-17.561,42.394-17.561c17.515,0,32.079,6.283,43.688,18.846
		c13.134-2.474,25.892-7.33,38.26-14.56c-4.757,14.652-13.613,25.788-26.55,33.402c12.368-1.716,23.88-4.95,34.537-9.708
		C357.458,149.793,347.462,160.166,335.471,168.735z"/>
</g>
</svg>

    </a>


</div>

    

    <div class="copyright">
    
       Â© Copyright 
       2023 
       <span class="split">
        <svg fill="#bbbbbb" width="15" height="15" version="1.1" id="heart-15" xmlns="http://www.w3.org/2000/svg" width="15px" height="15px" viewBox="0 0 15 15">
  <path d="M13.91,6.75c-1.17,2.25-4.3,5.31-6.07,6.94c-0.1903,0.1718-0.4797,0.1718-0.67,0C5.39,12.06,2.26,9,1.09,6.75&#xA;&#x9;C-1.48,1.8,5-1.5,7.5,3.45C10-1.5,16.48,1.8,13.91,6.75z"/>
</svg>
       </span>
       
    
    </div>

    
      <div class="powerby">
        Powered by <a href='http://www.gohugo.io/'>Hugo</a> Theme By <a href='https://github.com/nodejh/hugo-theme-mini'>nodejh</a>
      </div>
    
</footer>



  </body>
</html>
